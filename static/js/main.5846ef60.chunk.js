(this["webpackJsonplegislator-contributions"]=this["webpackJsonplegislator-contributions"]||[]).push([[0],{147:function(e,t,n){e.exports=n(270)},152:function(e,t,n){},155:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),c=n.n(o),i=(n(152),n(153),n(11)),s=n.n(i),u=n(24),l=n(118),d=n(119),p=n(135),f=n(134),m=n(277),h=n(279),b=n(280),g=n(278),v="https://www.opensecrets.org/api/?apikey=".concat("fe6f7f3d631490730290c24005850930","&output=json"),C=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"&method=candContrib&cid=").concat(t)).then((function(e){return e.json()})).then((function(e){return e&&e.response&&e.response.contributors&&e.response.contributors.contributor?e.response.contributors.contributor.map((function(e){return e["@attributes"]})):[]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"&method=getLegislators&id=").concat(t)).then((function(e){return e.json()})).then((function(e){return e&&e.response&&e.response.legislator?e.response.legislator.map((function(e){return e["@attributes"]})):[]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"&method=candIndustry&cid=").concat(t)).then((function(e){return e.json()})).then((function(e){return e&&e.response&&e.response.industries&&e.response.industries.industry?e.response.industries.industry.map((function(e){return e["@attributes"]})):[]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=[{key:"AL",value:"AL",text:"Alabama"},{key:"CA",value:"CA",text:"California"},{key:"IL",value:"IL",text:"Illinois"},{key:"MI",value:"MI",text:"Michigan"},{key:"MN",value:"MN",text:"Minnesota"}],x=(n(155),function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).getCandidatesForState=function(){var e=Object(u.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0,selectedState:n.value}),e.next=3,E(n.value);case 3:r=e.sent,a.setState({candidates:r,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.selectCandidate=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.selectedCandidate!==t){e.next=4;break}a.setState({selectedCandidate:null}),e.next=12;break;case 4:return a.setState({loadingCandidateDetails:!0,selectedCandidate:t}),e.next=7,C(t);case 7:return n=e.sent,e.next=10,y(t);case 10:r=e.sent,a.setState({topContributors:n,topIndustries:r,loadingCandidateDetails:!1});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={selectedState:null,candidates:[],loading:!1,selectedCandidate:null,topContributors:[],topIndustries:[],loadingCandidateDetails:!1},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.selectedState,a=t.candidates,o=t.loading,c=t.selectedCandidate,i=t.loadingCandidateDetails,s=t.topContributors,u=t.topIndustries;return r.a.createElement("div",{className:"app"},r.a.createElement(m.a,null,r.a.createElement("h1",null,"Legislator Contribution Lookup"),r.a.createElement("p",null,"Select a state to view legislators."),r.a.createElement(h.a,{placeholder:"Select your state",options:k,onChange:this.getCandidatesForState}),n&&!o?r.a.createElement(b.a,null,r.a.createElement("h2",null,"Legislators for ",n),r.a.createElement("h3",null,"Click on a legislator to see who has contributed the most in 2020."),r.a.createElement("ul",null,a.map((function(t){return r.a.createElement(r.a.Fragment,{key:t.cid},r.a.createElement(b.a,{onClick:function(){return e.selectCandidate(t.cid)}},r.a.createElement("h4",null,t.firstlast,": ",t.party),c===t.cid?r.a.createElement(b.a,null,i?r.a.createElement(g.a,{active:!0},"Fetching candidate information..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Top contributors:"),r.a.createElement("ul",null,s.map((function(e){return r.a.createElement("li",{key:e.org_name},e.org_name,": $",e.total.toLocaleString())}))),r.a.createElement("h5",null,"Top industries:"),r.a.createElement("ul",null,u.map((function(e){return r.a.createElement("li",{key:e.industry_name},e.industry_name,": $",e.total.toLocaleString())}))))):null))})))):null,n&&o?r.a.createElement(g.a,{active:!0},"Loading information for ",n,"..."):null))}}]),n}(r.a.Component));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.5846ef60.chunk.js.map